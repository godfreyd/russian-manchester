/* jQuery Form Styler v1.7.6 | (c) Dimox | https://github.com/Dimox/jQueryFormStyler */
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){function v(b,c){this.element=b;this.options=a.extend({},z,c);this.init()}function D(b){if(!a(b.target).parents().hasClass("jq-selectbox")&&"OPTION"!=b.target.nodeName&&a("div.jq-selectbox.opened").length){b=a("div.jq-selectbox.opened");var c=a("div.jq-selectbox__search input",b),f=a("div.jq-selectbox__dropdown",b);b.find("select").data("_styler")
.options.onSelectClosed.call(b);c.length&&c.val("").keyup();f.hide().find("li.sel").addClass("selected");b.removeClass("focused opened dropup dropdown")}}var z={idSuffix:"-styler",filePlaceholder:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",fileBrowse:"\u041e\u0431\u0437\u043e\u0440...",fileNumber:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0444\u0430\u0439\u043b\u043e\u0432: %s",selectPlaceholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435...",
selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",selectSearchPlaceholder:"\u041f\u043e\u0438\u0441\u043a...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};v.prototype={init:function(){function b(){void 0!==c.attr("id")&&""!==c.attr("id")&&
(this.id=c.attr("id")+f.idSuffix);this.title=c.attr("title");this.classes=c.attr("class");this.data=c.data()}var c=a(this.element),f=this.options,t=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i)?!0:!1,v=navigator.userAgent.match(/Android/i)&&
!navigator.userAgent.match(/(Windows\sPhone)/i)?!0:!1;if(c.is("select")){var C=function(){function C(c){c.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(c){var h=null;"mousewheel"==c.type?h=-1*c.originalEvent.wheelDelta:"DOMMouseScroll"==c.type&&(h=40*c.originalEvent.detail);h&&(c.stopPropagation(),c.preventDefault(),a(this).scrollTop(h+a(this).scrollTop()))})}function I(){for(var c=0;c<q.length;c++){var a=q.eq(c),b,e="",y=b="",r="",g="",w="",x="",d="";a.prop("selected")&&(e="selected sel");a.is(":disabled")&&
(e="disabled");a.is(":selected:disabled")&&(e="selected sel disabled");void 0!==a.attr("id")&&""!==a.attr("id")&&(y=' id="'+a.attr("id")+f.idSuffix+'"');void 0!==a.attr("title")&&""!==q.attr("title")&&(r=' title="'+a.attr("title")+'"');void 0!==a.attr("class")&&(w=" "+a.attr("class"),d=' data-jqfs-class="'+a.attr("class")+'"');var t=a.data(),k;for(k in t)""!==t[k]&&(g+=" data-"+k+'="'+t[k]+'"');""!==e+w&&(b=' class="'+e+w+'"');b="<li"+d+g+b+r+y+">"+a.html()+"</li>";a.parent().is("optgroup")&&(void 0!==
a.parent().attr("class")&&(x=" "+a.parent().attr("class")),b="<li"+d+g+' class="'+e+w+" option"+x+'"'+r+y+">"+a.html()+"</li>",a.is(":first-child")&&(b='<li class="optgroup'+x+'">'+a.parent().attr("label")+"</li>"+b));F+=b}}function z(){var u=new b,h="",n=c.data("placeholder"),e=c.data("search"),y=c.data("search-limit"),r=c.data("search-not-found"),g=c.data("search-placeholder"),w=c.data("z-index"),x=c.data("smart-positioning");void 0===n&&(n=f.selectPlaceholder);if(void 0===e||""===e)e=f.selectSearch;
if(void 0===y||""===y)y=f.selectSearchLimit;if(void 0===r||""===r)r=f.selectSearchNotFound;void 0===g&&(g=f.selectSearchPlaceholder);if(void 0===w||""===w)w=f.singleSelectzIndex;if(void 0===x||""===x)x=f.selectSmartPositioning;var d=a('<div class="jq-selectbox jqselect"><div class="jq-selectbox__select" style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>')
.css({display:"inline-block",position:"relative",zIndex:w}).attr({id:u.id,title:u.title}).addClass(u.classes).data(u.data);c.css({margin:0,padding:0}).after(d).prependTo(d);var J=a("div.jq-selectbox__select",d),k=a("div.jq-selectbox__select-text",d),u=q.filter(":selected");I();e&&(h='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+g+'"></div><div class="jq-selectbox__not-found">'+r+"</div>");var l=a('<div class="jq-selectbox__dropdown" style="position: absolute">'+h+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+F+"</ul></div>");d.append(l);
var p=a("ul",l),m=a("li",l),v=a("input",l),z=a("div.jq-selectbox__not-found",l).hide();m.length<y&&v.parent().hide();""===q.first().text()&&q.first().is(":selected")?k.text(n).addClass("placeholder"):k.text(u.text());var A=0,K=0;m.css({display:"inline-block"});m.each(function(){var c=a(this);c.innerWidth()>A&&(A=c.innerWidth(),K=c.width())});m.css({display:""});k.is(".placeholder")&&k.width()>A?k.width(k.width()):(h=d.clone().appendTo("body").width("auto"),e=h.outerWidth(),h.remove(),e==d.outerWidth()&&k.width(K));A>d.width()&&l.width(A);
""===q.first().text()&&""!==c.data("placeholder")&&m.first().hide();c.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var G=d.outerHeight(!0),B=v.parent().outerHeight(!0),E=p.css("max-height"),h=m.filter(".selected");1>h.length&&m.first().addClass("selected sel");void 0===m.data("li-height")&&m.data("li-height",m.outerHeight());var H=l.css("top");"auto"==l.css("left")&&l.css({left:0});"auto"==l.css("top")&&(l.css({top:G}),H=G);l.hide();h.length&&(q.first().text()!=u.text()&&d.addClass("changed"),
d.data("jqfs-class",h.data("jqfs-class")),d.addClass(h.data("jqfs-class")));if(c.is(":disabled"))return d.addClass("disabled"),!1;J.click(function(){a("div.jq-selectbox").filter(".opened").length&&f.onSelectClosed.call(a("div.jq-selectbox").filter(".opened"));c.focus();if(!t){var b=a(window),g=m.data("li-height"),h=d.offset().top,e=b.height()-G-(h-b.scrollTop()),k=c.data("visible-options");if(void 0===k||""===k)k=f.selectVisibleOptions;var n=5*g,u=g*k;0<k&&6>k&&(n=u);0===k&&(u="auto");var k=function(){l.height("auto").css({bottom:"auto",
top:H});var a=function(){p.css("max-height",Math.floor((e-20-B)/g)*g)};a();p.css("max-height",u);"none"!=E&&p.css("max-height",E);e<l.outerHeight()+20&&a()},r=function(){l.height("auto").css({top:"auto",bottom:H});var a=function(){p.css("max-height",Math.floor((h-b.scrollTop()-20-B)/g)*g)};a();p.css("max-height",u);"none"!=E&&p.css("max-height",E);h-b.scrollTop()-20<l.outerHeight()+20&&a()};!0===x||1===x?e>n+B+20?(k(),d.removeClass("dropup").addClass("dropdown")):(r(),d.removeClass("dropdown").addClass("dropup")):"dropdown"===x?e>n+B+20&&(k(),d.removeClass("dropup").addClass("dropdown")):"dropup"===x&&(r(),d.removeClass("dropdown").addClass("dropup"));
d.offset().left+l.outerWidth()>b.width()&&l.css({left:"auto",right:0});a("div.jqselect").css({zIndex:w-1}).removeClass("opened");d.css({zIndex:w});l.is(":hidden")?(a("div.jq-selectbox__dropdown:visible").hide(),l.show(),d.addClass("opened focused"),f.onSelectOpened.call(d)):(l.hide(),d.removeClass("opened dropup dropdown"),a("div.jq-selectbox").filter(".opened").length&&f.onSelectClosed.call(d));v.length&&(v.val("").keyup(),
z.hide(),v.keyup(function(){var b=a(this).val();m.each(function(){a(this).html().match(new RegExp(".*?"+b+".*?","i"))?a(this).show():a(this).hide()});""===q.first().text()&&""!==c.data("placeholder")&&m.first().hide();1>m.filter(":visible").length?z.show():z.hide()}));m.filter(".selected").length&&(""===c.val()?p.scrollTop(0):(0!==p.innerHeight()/g%2&&(g/=2),p.scrollTop(p.scrollTop()+m.filter(".selected").position().top-p.innerHeight()/2+g)));C(p)}});m.hover(function(){a(this).siblings().removeClass("selected")});
m.filter(".selected").text();m.filter(":not(.disabled):not(.optgroup)").click(function(){c.focus();var b=a(this),g=b.text();if(!b.is(".selected")){var e=b.index(),e=e-b.prevAll(".optgroup").length;b.addClass("selected sel").siblings().removeClass("selected sel");q.prop("selected",!1).eq(e).prop("selected",!0);k.text(g);d.data("jqfs-class")&&d.removeClass(d.data("jqfs-class"));d.data("jqfs-class",b.data("jqfs-class"));d.addClass(b.data("jqfs-class"));c.change()}l.hide();d.removeClass("opened dropup dropdown");
f.onSelectClosed.call(d)});l.mouseout(function(){a("li.sel",l).addClass("selected")});c.on("change.styler",function(){k.text(q.filter(":selected").text()).removeClass("placeholder");m.removeClass("selected sel").not(".optgroup").eq(c[0].selectedIndex).addClass("selected sel");q.first().text()!=m.filter(".selected").text()?d.addClass("changed"):d.removeClass("changed")}).on("focus.styler",function(){d.addClass("focused");a("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",
function(){d.removeClass("focused")}).on("keydown.styler keyup.styler",function(a){var b=m.data("li-height");""===c.val()?k.text(n).addClass("placeholder"):k.text(q.filter(":selected").text());m.removeClass("selected sel").not(".optgroup").eq(c[0].selectedIndex).addClass("selected sel");if(38==a.which||37==a.which||33==a.which||36==a.which)""===c.val()?p.scrollTop(0):p.scrollTop(p.scrollTop()+m.filter(".selected").position().top);40!=a.which&&39!=a.which&&34!=a.which&&35!=a.which||p.scrollTop(p.scrollTop()+
m.filter(".selected").position().top-p.innerHeight()+b);13==a.which&&(a.preventDefault(),l.hide(),d.removeClass("opened dropup dropdown"),f.onSelectClosed.call(d))}).on("keydown.styler",function(a){32==a.which&&(a.preventDefault(),J.click())});D.registered||(a(document).on("click",D),D.registered=!0)}function L(){var f=new b,h=a('<div class="jq-select-multiple jqselect"></div>').css({display:"inline-block",position:"relative"}).attr({id:f.id,title:f.title}).addClass(f.classes).data(f.data);c.css({margin:0,padding:0}).after(h);
I();h.append("<ul>"+F+"</ul>");var n=a("ul",h).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),e=a("li",h).attr("unselectable","on"),f=c.attr("size"),t=n.outerHeight(),r=e.outerHeight();void 0!==f&&0<f?n.css({height:r*f}):n.css({height:4*r});t>h.height()&&(n.css("overflowY","scroll"),C(n),e.filter(".selected").length&&n.scrollTop(n.scrollTop()+e.filter(".selected").position().top));c.prependTo(h).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",
opacity:0});if(c.is(":disabled"))h.addClass("disabled"),q.each(function(){a(this).is(":selected")&&e.eq(a(this).index()).addClass("selected")});else if(e.filter(":not(.disabled):not(.optgroup)").click(function(b){c.focus();var g=a(this);b.ctrlKey||b.metaKey||g.addClass("selected");b.shiftKey||g.addClass("first");b.ctrlKey||b.metaKey||b.shiftKey||g.siblings().removeClass("selected first");if(b.ctrlKey||b.metaKey)g.is(".selected")?g.removeClass("selected first"):g.addClass("selected first"),g.siblings().removeClass("first");
if(b.shiftKey){var f=!1,d=!1;g.siblings().removeClass("selected").siblings(".first").addClass("selected");g.prevAll().each(function(){a(this).is(".first")&&(f=!0)});g.nextAll().each(function(){a(this).is(".first")&&(d=!0)});f&&g.prevAll().each(function(){if(a(this).is(".selected"))return!1;a(this).not(".disabled, .optgroup").addClass("selected")});d&&g.nextAll().each(function(){if(a(this).is(".selected"))return!1;a(this).not(".disabled, .optgroup").addClass("selected")});1==e.filter(".selected").length&&
g.addClass("first")}q.prop("selected",!1);e.filter(".selected").each(function(){var b=a(this),c=b.index();b.is(".option")&&(c-=b.prevAll(".optgroup").length);q.eq(c).prop("selected",!0)});c.change()}),q.each(function(b){a(this).data("optionIndex",b)}),c.on("change.styler",function(){e.removeClass("selected");var b=[];q.filter(":selected").each(function(){b.push(a(this).data("optionIndex"))});e.not(".optgroup").filter(function(c){return-1<a.inArray(c,b)}).addClass("selected")}).on("focus.styler",function(){h.addClass("focused")}).on("blur.styler",
function(){h.removeClass("focused")}),t>h.height())c.on("keydown.styler",function(a){38!=a.which&&37!=a.which&&33!=a.which||n.scrollTop(n.scrollTop()+e.filter(".selected").position().top-r);40!=a.which&&39!=a.which&&34!=a.which||n.scrollTop(n.scrollTop()+e.filter(".selected:last").position().top-n.innerHeight()+2*r)})}var q=a("option",c),F="";c.is("[multiple]")?v||t||L():z()};C();c.on("refresh",function(){c.off(".styler").parent().before(c).remove();C()})}else if(c.is(":reset"))c.on("click",function(){setTimeout(function(){c.closest("form").find("input, select").trigger("refresh")},
1)})},destroy:function(){var b=a(this.element);b.is(":checkbox")||b.is(":radio")?(b.removeData("_styler").off(".styler refresh").removeAttr("style").parent().before(b).remove(),b.closest("label").add('label[for="'+b.attr("id")+'"]').off(".styler")):b.is('input[type="number"]')?b.removeData("_styler").off(".styler refresh").closest(".jq-number").before(b).remove():(b.is(":file")||b.is("select"))&&b.removeData("_styler").off(".styler refresh").removeAttr("style").parent().before(b).remove()}};a.fn.styler=function(b){var c=
arguments;if(void 0===b||"object"===typeof b)return this.each(function(){a.data(this,"_styler")||a.data(this,"_styler",new v(this,b))}).promise().done(function(){var b=a(this[0]).data("_styler");b&&b.options.onFormStyled.call()}),this;if("string"===typeof b&&"_"!==b[0]&&"init"!==b){var f;this.each(function(){var t=a.data(this,"_styler");t instanceof v&&"function"===typeof t[b]&&(f=t[b].apply(t,Array.prototype.slice.call(c,1)))});return void 0!==f?f:this}};D.registered=!1});